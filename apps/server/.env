# ── Runtime
NODE_ENV=development
PORT=4100
TRUST_PROXY=1                      # 리버스프록시 뒤(도커)면 1 이상

# ── 개발 환경 설정
DISABLE_METRICS=true               # 개발 환경에서 메트릭스 비활성화
DISABLE_RATE_LIMIT=true            # 개발 환경에서 Rate Limit 비활성화

# ── Database (Docker 네트워크)
DATABASE_URL=postgres://tango:tango123@localhost:5432/tango
DB_SSLMODE=disable

# ── Redis (Docker 네트워크)
REDIS_URL=redis://localhost:6379

# ── JWT
JWT_SECRET=supersecretkey123!@#    # 액세스 토큰(HS256)
JWT_REFRESH_SECRET=dev-refresh-secret-please-change
JWT_ACCESS_EXPIRES_MIN=30

# ── Session / Cookie / CORS
SESSION_SECRET=dev-session-secret-please-change
AUTH_COOKIE=1
COOKIE_SECURE=false                # dev는 http라 false
COOKIE_SAMESITE=Lax               # 프런트/백이 서로 다른 호스트면 Lax 또는 None(https 필요)
COOKIE_DOMAIN=                    # 개발에선 비움

# Next dev가 출력한 네트워크 주소까지 포함(예: 172.22.160.1:3000)
FRONT_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://172.22.160.1:3000
CORS_ORIGIN=http://localhost:3000,http://127.0.0.1:3000,http://172.22.160.1:3000

# ── OTP / SMS
SMS_PROVIDER=mock
DEBUG_OTP=1
OTP_TTL_SEC=300
OTP_RATE_PER_PHONE=5
OTP_RATE_PHONE_WINDOW=3600
OTP_RATE_PER_IP=10
OTP_RATE_IP_WINDOW=3600
OTP_RESEND_COOLDOWN_SEC=60

# ── KYC
KYC_MIN_AGE=50
KYC=STUB
KYC_MODE=STUB

# ── 위치 자동완성
KAKAO_REST_KEY=카카오_REST_API_KEY
VWORLD_KEY=브이월드_API_KEY

# ── 전화번호 암호화
PHONE_ENC_KEY=dev-32-bytes-minimum-secret-key

# ── MinIO (S3 호환 객체 스토리지)
AWS_REGION=us-east-1
AWS_S3_ENDPOINT=http://localhost:9000
AWS_S3_FORCE_PATH_STYLE=true
UPLOAD_BUCKET=tango
CDN_BASE_URL=http://localhost:9000/tango
PRESIGN_EXPIRES_IN=300

# ===== SLO (Service Level Objective) =====
# HTTP 요청 지연시간 SLO (밀리초)
SLO_P95_MS=400
SLO_P99_MS=1000

# HTTP 에러율 SLO (소수점)
SLO_5XX_RATE=0.005        # 0.5%
SLO_4XX_RATE=0.02         # 2%

# 레이트리밋 SLO
SLO_429_RATE=0.05         # 5%

# OTP 품질 SLO
SLO_OTP_INVALID_RATE=0.2  # 20%
SLO_OTP_EXPIRED_RATE=0.15 # 15%
SLO_OTP_FAILURE_RATE=0.1  # 10%

# 사용자 등록/로그인 SLO
SLO_USER_REG_FAILURE_RATE=0.05  # 5%
SLO_USER_LOGIN_FAILURE_RATE=0.1 # 10%

# 시스템 리소스 SLO
SLO_CPU_USAGE=80          # 80%
SLO_MEMORY_USAGE=85       # 85%

# ===== 알림 설정 =====
ALERT_P95_DURATION=10m    # p95 지연시간 알림 지속시간
ALERT_5XX_DURATION=5m     # 5xx 에러율 알림 지속시간
ALERT_429_DURATION=5m     # 429 에러율 알림 지속시간
ALERT_OTP_DURATION=10m    # OTP 품질 알림 지속시간

# ===== 로깅 설정 =====
LOG_LEVEL=info
LOG_INFO_SAMPLE=0.10
LOG_DEBUG_SAMPLE=0.01

